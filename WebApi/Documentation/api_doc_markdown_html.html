<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>api_doc_markdown</title>


<style type="text/css">
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0;
}

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }
li {
  margin: 0; }
ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0;border-collapse: collapse; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

.highlight pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }

pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

sup {
    font-size: 0.83em;
    vertical-align: super;
    line-height: 0;
}

kbd {
  display: inline-block;
  padding: 3px 5px;
  font-size: 11px;
  line-height: 10px;
  color: #555;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #ccc;
  border-bottom-color: #bbb;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #bbb
}

* {
	-webkit-print-color-adjust: exact;
}
@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:0 auto;
    }
}
@media print {
	table, pre {
		page-break-inside: avoid;
	}
	pre {
		word-wrap: break-word;
	}
}
</style>


</head>

<body>

<h1 id="toc_0">Waste Management API</h1>

<p>Esta documentação serve como referência para a API desenvolvida no âmbito do projeto <strong>Waste Management</strong> - Gestão da recolha de resíduos sólidos urbanos. A API encontra-se na versão v1.0.0. Os recursos detalhados nesta documentação estarão com o seu nome em inglês, visto ter sido esta a linguagem que a API usa. Note-se que apesar desta documentação estar disponível no formato PDF, aconselha-se vivamente a visualização da mesma na plataforma Github, de forma a facilitar a leitura e entendimento da mesma.</p>

<h2 id="toc_1">Índice</h2>

<p>i. <a href="#schema">Esquema</a></p>

<p>ii. <a href="#authentication">Autenticação</a></p>

<p>iii. <a href="#home">Página inicial</a></p>

<p>iv. <a href="#errors">Erros do cliente</a></p>

<p>v. <a href="#http-verbs">Métodos HTTP</a></p>

<p>vi. <a href="#hypermedia">Hypermedia</a></p>

<p>vii. <a href="#"></a></p>

<h2 id="toc_2"><a name="schema"></a> Esquema</h2>

<p>O acesso à API é realizado fazendo uso de HTTPS, através do URL <code>https://wastemanagement.westeurope.cloudapp.azure.com</code>. Todos os pedidos que envolvem corpo no pedido devem ser enviados em JSON. Todas as respostas enviadas aos clientes são derivadas de JSON, como Json-Home, Collection+JSON e Siren+JSON para respostas com sucesso, e Problem+JSON para respostas de insucesso.</p>

<p>Todos os campos que não tiverem valor são incluídos na representação como <code>null</code>, caso sejam objetos. Se se tratar de uma coleção, são incluídos como uma coleção vazia <code>[]</code>.</p>

<p>Todas as datas seguem o formato definido no ISO 8601, <code>YYYY-MM-DDTHH:MM:SS</code>.</p>

<h3 id="toc_3">Representações de listas</h3>

<p>Quando é feito um pedido a uma lista de recursos, é retornada uma resposta cuja representação vem no formato Collection+JSON (<code>application/vnd.collection+json</code>). Este formato permite representar um conjunto simples de recursos, tendo sido desenvolvido para suportar pedidos GET e POST sobre esse conjunto. Cada item da representação contem a mesma informação que a representação individual de um recurso, contudo só a partir da representação individual é possível obter as informações sobre as ações possíveis sobre um dado recurso.</p>

<p>Todas as representações de listas são paginadas, permitindo, através de <em>query parameters</em>, selecionar o número da página (<code>page</code>) e o número de itens que a página atual contem (<code>rows</code>). Por omissão, o valor da página é sempre 1, e o número de elementos é 20. Além deste dois parâmetros, as listas de rotas, zonas de coleta, contentores e camiões, permitem filtrar a visualização de elementos ativos e inativos, através do parâmetro <code>showInactive</code>. Se o valor for <code>false</code>, sendo este o predefinido, só serão visualizados os elementos ativos, se o valor for <code>true</code>, além dos elementos ativos, serão igualmente mostrados os inativos.</p>

<p><strong>Exemplo:</strong> A obtenção das rotas que estão registadas em sistema, além de permitir escolher a página e o número de elementos da mesma, permite filtrar o tipo de elementos que são mostrados.</p>

<div><pre><code class="language-none">GET /routes?page=1&amp;rows=20&amp;showInactive=false</code></pre></div>

<h3 id="toc_4">Representações individuais</h3>

<p>Quando é feito um pedido a um recurso individual, é retornada uma resposta cuja representação vem no formato Siren+JSON (<code>application/vnd.siren+json</code>). A representação, além dos detalhes referentes ao recurso, localizados no objeto <strong>properties</strong>, incluí também a lista das ações que são possíveis de fazer sobre o mesmo, através do <em>array</em> <strong>actions</strong>, a lista de recursos relacionados, através do <em>array</em> <strong>entities</strong>, e a lista de <em>links</em> relacionados ao recurso, através do <em>array</em> <strong>links</strong>.</p>

<p><strong>Exemplo:</strong> Obtenção de uma rota individual, neste caso aquela cujo identificador é o 1.</p>

<div><pre><code class="language-none">GET /routes/1</code></pre></div>

<p>Esta documentação disponibiliza um exemplo de resposta para cada método disponibilizado. Através desses exemplos será possível averiguar alguns aspetos específicos de cada recurso.</p>

<h2 id="toc_5"><a name="authentication"></a> Autenticação</h2>

<p>Quando um pedido requere autenticação, e o utilizador não tem permissões suficientes, é retornado um <code>403 Forbidden</code>. Caso não sejam fornecidas quaisquer credenciais e as mesmas sejam requeridas ou caso exista algum erro nas credenciais, quer seja por erro no nome de utilizador e/ou palavra-passe, é retornado um <code>401 Unauthorized</code>.</p>

<p>A API apenas disponibiliza um método de autenticação, via <em>header</em> <strong>Basic</strong>.</p>

<h3 id="toc_6">Categorias de utilizador (<em>roles</em>)</h3>

<table>
<thead>
<tr>
<th>Nome da categoria</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>administrator</td>
<td>Administrador do sistema, com acesso total a todas as ações</td>
</tr>
<tr>
<td>management</td>
<td>Responsável pela gestão dos recursos zonas de coleta, contentores, configurações e comunicações</td>
</tr>
<tr>
<td>collector</td>
<td>Responsável pela recolha dos resíduos, com acesso a ações que permitam obter uma rota e marcar um contentor como recolhido e/ou lavado.</td>
</tr>
</tbody>
</table>

<h2 id="toc_7"><a name="home"></a> Página inicial</h2>

<p>Quando é realizado um pedido à página inicial da API, na resposta vem uma representação no formato Json-Home. Este formato permite ao utilizador da API saber quais os URIs associados aos recursos que são independentes, como por exemplo, as rotas, os camiões, as estações, entre outros.</p>

<div><pre><code class="language-none">GET https://wastemanagement.westeurope.cloudapp.azure.com/</code></pre></div>

<h2 id="toc_8"><a name="errors"></a> Erros do cliente</h2>

<p>Os erros, independentemente de serem originados pelo cliente ou pelo servidor, contêm sempre uma resposta consumível no formato Problem+Json(<code>application/problem+json</code>). O formato, em relação ao original, sofreu uma alteração (ver <a href="#problem+json">Hypermedia - Problem+Json</a>).</p>

<p>Quando um cliente envia um pedido com corpo, doravante <em>body</em>, esses pedidos podem resultar em três erros:</p>

<p>O primeiro erro resulta do envio de um <em>body</em>, com um ou mais parâmetros inválidos. Por exemplo, na publicação de uma nova rota, os identificadores das estações de partida e chegada devem ser positivos.</p>

<div><pre><code class="language-none">HTTP/1.1 400 Bad Request    
{
    &quot;type&quot;: &quot;/exceptions/illegal-arguments-error&quot;,
    &quot;title&quot;: &quot;One or more parameters are wrong&quot;,
    &quot;status&quot;: 400,
    &quot;message&quot;: &quot;Invalid start station identifier, it must be a positive number&quot;,
    &quot;detail&quot;: &quot;Invalid start station identifier, it must be a positive number&quot;
}</code></pre></div>

<p>O segundo erro resulta no envio de um <em>body</em> válido do ponto de vista lógico, mas apresenta dependências inválidas. No exemplo anterior, os identificadores seriam um número positivo, contudo, não corresponderiam a um identificador existente na base de dados.</p>

<div><pre><code class="language-none">HTTP/1.1 422 Unprocessable Entity
{
    &quot;type&quot;: &quot;/exceptions/invalid-dependency-error&quot;,
    &quot;title&quot;: &quot;Invalid dependency&quot;,
    &quot;status&quot;: 422,
    &quot;message&quot;: &quot;Hey! One of the dependencies are invalid :/ Verify if the keys of the 
    introduced dependencies are correct or if they even exist. More details: The identifier of
    start or finish station is invalid&quot;,
    &quot;detail&quot;: &quot;The identifier of start or finish station is invalid&quot;
}</code></pre></div>

<p>Um terceiro erro resulta do envio de um <em>body</em> que não é passível de interpretação, seja porque o <strong>Content-Type</strong> não é <code>application/json</code>, ou porque o conteúdo, apesar de usar o formato correto, foi mal formado. Um outro exemplo, é o envio de uma data que não cumpra o formato <code>YYYY-MM-DDTHH:MM:SS</code>.</p>

<div><pre><code class="language-none">HTTP/1.1 406 Not Acceptable
{
    &quot;type&quot;: &quot;/exceptions/not-readable-error&quot;,
    &quot;title&quot;: &quot;Wrong syntax&quot;,
    &quot;status&quot;: 406,
    &quot;message&quot;: &quot;Hey! We can&#39;t read the body as you sent us :/ Maybe you should verify if you 
    write everything correctly&quot;,
    &quot;detail&quot;: &quot;JSON parse error: &quot;[...]
}</code></pre></div>

<h2 id="toc_9"><a name="http-verbs"></a> Métodos HTTP</h2>

<p>Na versão atual da API são usados os seguintes métodos HTTP:</p>

<table>
<thead>
<tr>
<th>Método</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>GET</td>
<td>Usado para obter a representação de um recurso, não produzindo alterações de estado sobre este em nenhum caso</td>
</tr>
<tr>
<td>PUT</td>
<td>Usado para atualizar um recurso</td>
</tr>
<tr>
<td>POST</td>
<td>Usado para criar um recurso</td>
</tr>
<tr>
<td>DELETE</td>
<td>Usado para apagar permanentemente um recurso</td>
</tr>
</tbody>
</table>

<h2 id="toc_10"><a name="hypermedia"></a> Hypermedia</h2>

<p>A Waste Management API usa quatro <em>media types</em> diferentes, como referido anteriormente nesta documentação. No que às respostas de sucesso diz respeito, enquanto que o Json-Home permaneceu intacto relativamente à estrutura que é definida na sua especificação<a href="#json-home-specification">[1]</a>, os <em>media types</em> Collection+Json<a href="#collection-json-specification">[2]</a> e Siren+Json<a href="#siren-json-specification">[3]</a> sofreram ambos uma alteração cirúrgica de forma a que se adaptassem melhor ao contexto onde estes eram usados. Quanto às respostas de insucesso, representadas sobre o formato Problem+Json [4]](#problem-json-specification), também sofreram uma alteração.</p>

<p>A alteração introduzida nas respostas de sucesso, visa solucionar uma lacuna de ambos os <em>media types</em>. Previamente à alteração, não havia qualquer maneira de indicar que um dado campo poderia assumir um conjunto fixo de valores. Por exemplo, um contentor pode ser de quatro tipos diferentes, genérico(<em>generic</em>), papel(<em>paper</em>), vidro(<em>glass</em>) e plástico(<em>plastic</em>), contudo não existia nenhuma forma de fornecer tal indicação a um cliente para que este pudesse criar ou atualizar esse recurso.</p>

<h3 id="toc_11">Collection+Json</h3>

<p>A alteração ocorreu ao nível do <em>array</em> <strong>data</strong>, que se encontra na composição do objeto contido no <em>array</em> <strong>items</strong> e na composição do objeto <strong>template</strong>. Além dos campos referidos na documentação, foi acrescentado um <em>array</em> denominado <strong>options</strong>. Este <em>array</em> é composto por um conjunto de objetos que têm um campo <strong>text</strong>, que indica o nome a mostrar ao utilizador e um campo <strong>value</strong> que refere o valor que deve ser enviado no pedido.</p>

<div><pre><code class="language-none">{
    [...],
    &quot;template&quot;: {
        &quot;data&quot;: [
            [...],
            {
                &quot;name&quot;: &quot;containerType&quot;,
                &quot;value&quot;: null,
                &quot;prompt&quot;: &quot;Container Type&quot;,
                &quot;options&quot;: [
                    {
                        &quot;text&quot;: &quot;General&quot;,
                        &quot;value&quot;: &quot;general&quot;
                    },
                    {
                        &quot;text&quot;: &quot;Plastic&quot;,
                        &quot;value&quot;: &quot;plastic&quot;
                    },
                    {
                        &quot;text&quot;: &quot;Paper&quot;,
                        &quot;value&quot;: &quot;paper&quot;
                    },
                    {
                        &quot;text&quot;: &quot;Glass&quot;,
                        &quot;value&quot;: &quot;glass&quot;
                    }
                ]
            },
            {
                &quot;name&quot;: &quot;configurationId&quot;,
                &quot;value&quot;: null,
                &quot;prompt&quot;: &quot;Configuration Id&quot;,
                &quot;options&quot;: []
            }
        ]
    }
    [...]
}</code></pre></div>

<p>O campo <strong>options</strong> só deve ser consumido caso o <strong>value</strong> tenha valor nulo (<code>null</code>). Se o <strong>value</strong> for <code>null</code> e o <strong>options</strong> estiver vazio, deve-se assumir o valor de <strong>value</strong>.</p>

<h3 id="toc_12">Siren+Json</h3>

<p>A alteração ocorreu ao nível do <em>array</em> <strong>fields</strong>, que se encontra na composição do objeto contido no <em>array</em> <strong>actions</strong>. Além dos campos referidos na documentação, e à semelhança do que foi realizado no formato Collection+Json, foi acrescentado um <em>array</em> denominado <strong>options</strong>. </p>

<p>O campo <strong>options</strong> só deve ser consumido caso o <strong>value</strong> tenha valor nulo (<code>null</code>). Se o <strong>value</strong> for <code>null</code> e o <strong>options</strong> estiver vazio, deve-se assumir o valor de <strong>value</strong>.</p>

<div><pre><code class="language-none">{
    [...],
    &quot;actions&quot;: [
    {
        &quot;name&quot;: &quot;update-container-configuration&quot;,
        &quot;title&quot;: null,
        &quot;method&quot;: &quot;PUT&quot;,
        &quot;href&quot;: &quot;/containers/1/configuration&quot;,
        &quot;type&quot;: &quot;application/json&quot;,
        &quot;fields&quot;: [
           [...],
            {
                &quot;name&quot;: &quot;containerType&quot;,
                &quot;type&quot;: &quot;text&quot;,
                &quot;value&quot;: null,
                &quot;title&quot;: &quot;Container Type&quot;,
                &quot;options&quot;: [
                    {
                        &quot;text&quot;: &quot;General&quot;,
                        &quot;value&quot;: &quot;general&quot;
                    },
                    {
                        &quot;text&quot;: &quot;Plastic&quot;,
                        &quot;value&quot;: &quot;plastic&quot;
                    },
                    {
                        &quot;text&quot;: &quot;Paper&quot;,
                        &quot;value&quot;: &quot;paper&quot;
                    },
                    {
                        &quot;text&quot;: &quot;Glass&quot;,
                        &quot;value&quot;: &quot;glass&quot;
                    }
                ],
                &quot;field_class&quot;: null
            },
            {
                &quot;name&quot;: &quot;configurationId&quot;,
                &quot;type&quot;: &quot;number&quot;,
                &quot;value&quot;: null,
                &quot;title&quot;: &quot;Configuration Id&quot;,
                &quot;options&quot;: [],
                &quot;field_class&quot;: null
            }
        ]
    },
    [...]
}</code></pre></div>

<h3 id="toc_13"><a name="problem+json"></a> Problem+Json</h3>

<p>Em relação à estrutura já definida na documentação, foi acrescentado o campo <strong>message</strong>. O objetivo desta alteração, é permitir à representação do erro separar a mensagem de erro <em>user-friendly</em> e a mensagem de erro que pode ser usada, por exemplo, para <em>logs</em> por parte da aplicação cliente, para possível despiste de erros na criação dos pedidos.</p>

<div><pre><code class="language-none">{
    &quot;type&quot;: [Error identification],
    &quot;title&quot;: [Error name],
    &quot;status&quot;: [status],
    &quot;message&quot;: [User-friendly message],
    &quot;detail&quot;: [Client APP message for logging]
}</code></pre></div>

<h3 id="toc_14">Considerações</h3>

<p>Como é possível averiguar através da documentação do <em>media type</em> Collection+Json <a href="#collection-json-specification">[2]</a>, este formato permite representar uma coleção de recursos, definindo igualmente como deve ser realizada uma inserção sobre essa mesma coleção, pelo que nesta documentação, foi omitida a descrição dos pedidos referentes à inserção nas listas de recursos.</p>

<p>O mesmo é válido para o <em>media type</em> Siren+Json <a href="#siren-json-specification">[3]</a>, que através das <em>actions</em>, define quais as ações possíveis sobre um dado recurso e qual a forma de realizar essas ações, mais especificamente, o URI, o método e os campos a enviar no <em>body</em>.</p>

<p>No <em>media type</em> Siren+Json, os objetos que compõem o <em>array</em> <strong>links</strong>, que se situa no objeto retornado em primeiro nível, sendo o contexto o recurso que está a ser representado, e também nos objetos contidos no <em>array</em> <strong>entities</strong>, sendo o contexto a entidade referenciada, têm um campo denominado <strong>rel</strong>, que indica qual a relação que o <em>link</em> apresentado em <strong>href</strong> tem relativamente ao contexto em que está inserido. Dado que, maioritariamente, as relações usadas estão definidas em <a href="https://tools.ietf.org/html/rfc5988#section-6.2">Web Linking(RFC 5988)</a> e <a href="https://www.iana.org/assignments/link-relations/link-relations.xhtml">Link Relations</a>, só serão documentadas as relações definidas por esta API. O <em>medi type</em> Collection+Json também tem um <em>array</em> de <em>links</em>, mantendo-se o mesmo principio referido anteriormente.</p>

<h2 id="toc_15">Stations</h2>

<p>O recurso <strong>Stations</strong>, pode ser criado/alterado por utilizadores da categoria <em>administrator</em>, e pode ser visualizado pela categoria <em>administrator</em> e <em>management</em>.</p>

<h3 id="toc_16">Lista de Stations</h3>

<div><pre><code class="language-none">GET /stations</code></pre></div>

<h4 id="toc_17">Parâmetros</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
<th>Valor por omissão</th>
</tr>
</thead>

<tbody>
<tr>
<td>page</td>
<td>int</td>
<td>Um inteiro indicativo da página a mostrar</td>
<td>1</td>
</tr>
<tr>
<td>rows</td>
<td>int</td>
<td>Um inteiro indicativo do número de elementos a mostrar na página atual</td>
<td>20</td>
</tr>
</tbody>
</table>

<h4 id="toc_18">Resposta</h4>

<div><pre><code class="language-none">Status: 200 OK
Content-Type: application/vnd.collection+json
{
    &quot;collection&quot;: {
        &quot;version&quot;: &quot;1.0&quot;,
        &quot;href&quot;: &quot;/stations?page=1&amp;rows=20&quot;,
        &quot;links&quot;: [],
        &quot;items&quot;: [
            {
                &quot;href&quot;: &quot;/stations/1&quot;,
                &quot;data&quot;: [
                    {
                        &quot;name&quot;: &quot;stationId&quot;,
                        &quot;value&quot;: &quot;1&quot;,
                        &quot;prompt&quot;: &quot;Station Id&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;stationName&quot;,
                        &quot;value&quot;: &quot;test_station_name&quot;,
                        &quot;prompt&quot;: &quot;Station Name&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;latitude&quot;,
                        &quot;value&quot;: &quot;0.0&quot;,
                        &quot;prompt&quot;: &quot;Latitude&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;longitude&quot;,
                        &quot;value&quot;: &quot;0.0&quot;,
                        &quot;prompt&quot;: &quot;Longitude&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;stationType&quot;,
                        &quot;value&quot;: &quot;base&quot;,
                        &quot;prompt&quot;: &quot;Station Type&quot;,
                        &quot;options&quot;: []
                    }
                ],
                &quot;links&quot;: []
            }
        ],
        &quot;queries&quot;: [],
        &quot;template&quot;: {
            &quot;data&quot;: [
                {
                    &quot;name&quot;: &quot;stationName&quot;,
                    &quot;value&quot;: null,
                    &quot;prompt&quot;: &quot;Station Name&quot;,
                    &quot;options&quot;: []
                },
                {
                    &quot;name&quot;: &quot;latitude&quot;,
                    &quot;value&quot;: null,
                    &quot;prompt&quot;: &quot;Latitude&quot;,
                    &quot;options&quot;: []
                },
                {
                    &quot;name&quot;: &quot;longitude&quot;,
                    &quot;value&quot;: null,
                    &quot;prompt&quot;: &quot;Longitude&quot;,
                    &quot;options&quot;: []
                },
                {
                    &quot;name&quot;: &quot;stationType&quot;,
                    &quot;value&quot;: null,
                    &quot;prompt&quot;: &quot;Station Type&quot;,
                    &quot;options&quot;: [
                        {
                            &quot;text&quot;: &quot;Base&quot;,
                            &quot;value&quot;: &quot;base&quot;
                        },
                        {
                            &quot;text&quot;: &quot;Drop Zone&quot;,
                            &quot;value&quot;: &quot;drop_zone&quot;
                        }
                    ]
                }
            ]
        }
    }
}</code></pre></div>

<h3 id="toc_19">Station especifica</h3>

<div><pre><code class="language-none">GET /stations/:stationId</code></pre></div>

<h4 id="toc_20">Variáveis</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>stationId</td>
<td>int</td>
<td>Identificador numérico da estação de que se pretende obter a representação</td>
</tr>
</tbody>
</table>

<h4 id="toc_21">Resposta</h4>

<div><pre><code class="language-none">Status: 200 OK
Content-Type: application/vnd.siren+json
{
    &quot;class&quot;: [
        &quot;station&quot;
    ],
    &quot;properties&quot;: {
        &quot;stationId&quot;: 1,
        &quot;latitude&quot;: 0,
        &quot;longitude&quot;: 0,
        &quot;stationName&quot;: &quot;test_station_name&quot;,
        &quot;stationType&quot;: &quot;base&quot;
    },
    &quot;entities&quot;: [],
    &quot;actions&quot;: [
        {
            &quot;name&quot;: &quot;update-station&quot;,
            &quot;title&quot;: null,
            &quot;method&quot;: &quot;PUT&quot;,
            &quot;href&quot;: &quot;/stations/1&quot;,
            &quot;type&quot;: &quot;application/json&quot;,
            &quot;fields&quot;: [
                {
                    &quot;name&quot;: &quot;stationName&quot;,
                    &quot;type&quot;: &quot;text&quot;,
                    &quot;value&quot;: null,
                    &quot;title&quot;: &quot;Station Name&quot;,
                    &quot;options&quot;: [],
                    &quot;field_class&quot;: null
                },
                {
                    &quot;name&quot;: &quot;latitude&quot;,
                    &quot;type&quot;: &quot;number&quot;,
                    &quot;value&quot;: null,
                    &quot;title&quot;: &quot;Latitude&quot;,
                    &quot;options&quot;: [],
                    &quot;field_class&quot;: null
                },
                {
                    &quot;name&quot;: &quot;longitude&quot;,
                    &quot;type&quot;: &quot;number&quot;,
                    &quot;value&quot;: null,
                    &quot;title&quot;: &quot;Longitude&quot;,
                    &quot;options&quot;: [],
                    &quot;field_class&quot;: null
                },
                {
                    &quot;name&quot;: &quot;stationType&quot;,
                    &quot;type&quot;: &quot;text&quot;,
                    &quot;value&quot;: null,
                    &quot;title&quot;: &quot;Station Type&quot;,
                    &quot;options&quot;: [
                        {
                            &quot;text&quot;: &quot;Base&quot;,
                            &quot;value&quot;: &quot;base&quot;
                        },
                        {
                            &quot;text&quot;: &quot;Drop Zone&quot;,
                            &quot;value&quot;: &quot;drop_zone&quot;
                        }
                    ],
                    &quot;field_class&quot;: null
                }
            ]
        },
        {
            &quot;name&quot;: &quot;delete-station&quot;,
            &quot;title&quot;: null,
            &quot;method&quot;: &quot;DELETE&quot;,
            &quot;href&quot;: &quot;/stations/1&quot;,
            &quot;type&quot;: &quot;*/*&quot;,
            &quot;fields&quot;: []
        }
    ],
    &quot;links&quot;: [
        {
            &quot;rel&quot;: [
                &quot;self&quot;
            ],
            &quot;href&quot;: &quot;/stations/1&quot;
        },
        {
            &quot;rel&quot;: [
                &quot;up&quot;
            ],
            &quot;href&quot;: &quot;/stations&quot;
        }
    ]
}</code></pre></div>

<h4 id="toc_22">Classes</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>station</td>
<td>Identifica uma estação</td>
</tr>
</tbody>
</table>

<h4 id="toc_23">Ações</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>update-station</td>
<td>Atualiza os dados referentes a uma estação, mais concretamente a sua localização e/ou tipo</td>
</tr>
<tr>
<td>delete-station</td>
<td>Apaga permanentemente uma estação</td>
</tr>
</tbody>
</table>

<h3 id="toc_24">Vocabulário</h3>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
<th>Restrições</th>
</tr>
</thead>

<tbody>
<tr>
<td>stationId</td>
<td>int</td>
<td>Identificador numérico da estação</td>
<td>-</td>
</tr>
<tr>
<td>stationName</td>
<td>string</td>
<td>Nome da estação. Único no sistema, serve igualmente de identificador</td>
<td>-</td>
</tr>
<tr>
<td>latitude</td>
<td>float</td>
<td>Latitude referente às coordenadas da estação</td>
<td>-90 =&lt; <em>latitude</em> =&lt; 90</td>
</tr>
<tr>
<td>longitude</td>
<td>float</td>
<td>Longitude referente às coordenadas da estação</td>
<td>-180 =&lt; <em>longitude</em> =&lt; 180</td>
</tr>
<tr>
<td>stationType</td>
<td>string</td>
<td>Tipo da estação</td>
<td><em>stationType</em> = {&#39;base&#39;, &#39;drop_zone&#39;}</td>
</tr>
</tbody>
</table>

<h2 id="toc_25">Routes</h2>

<p>O recurso <strong>Routes</strong> pode ser criado/alterado pela categoria <em>administrator</em> e pode ser visualizado pelas categorias <em>administrator</em> e <em>management</em>.</p>

<h3 id="toc_26">Lista de Routes</h3>

<div><pre><code class="language-none">GET /routes</code></pre></div>

<h4 id="toc_27">Parâmetros</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
<th>Valor por omissão</th>
</tr>
</thead>

<tbody>
<tr>
<td>page</td>
<td>int</td>
<td>Um inteiro indicativo da página a mostrar</td>
<td>1</td>
</tr>
<tr>
<td>rows</td>
<td>int</td>
<td>Um inteiro indicativo do número de elementos a mostrar na página atual</td>
<td>20</td>
</tr>
<tr>
<td>showInactive</td>
<td>boolean</td>
<td>Um booleano que filtra os resultados. Se tiver valor <em>true</em>, todas as rotas serão mostradas, se tiver valor <em>false</em>, só as ativas serão mostradas</td>
<td>false</td>
</tr>
</tbody>
</table>

<h4 id="toc_28">Resposta</h4>

<div><pre><code class="language-none">Status: 200 OK
Content-Type: application/vnd.collection+json
{
    &quot;collection&quot;: {
        &quot;version&quot;: &quot;1.0&quot;,
        &quot;href&quot;: &quot;/routes?page=1&amp;rows=20&amp;showInactive=false&quot;,
        &quot;links&quot;: [
            {
                &quot;rel&quot;: &quot;/rels/collectable-routes&quot;,
                &quot;href&quot;: &quot;/routes/collects&quot;,
                &quot;prompt&quot;: &quot;Routes that are available to be collected&quot;,
                &quot;render&quot;: null,
                &quot;name&quot;: null
            }
        ],
        &quot;items&quot;: [
            {
                &quot;href&quot;: &quot;/routes/2&quot;,
                &quot;data&quot;: [
                    {
                        &quot;name&quot;: &quot;routeId&quot;,
                        &quot;value&quot;: &quot;2&quot;,
                        &quot;prompt&quot;: &quot;Route Id&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;active&quot;,
                        &quot;value&quot;: &quot;true&quot;,
                        &quot;prompt&quot;: &quot;Active&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;startPointStationName&quot;,
                        &quot;value&quot;: &quot;test_station_name&quot;,
                        &quot;prompt&quot;: &quot;Start Point Station Name&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;startPointLatitude&quot;,
                        &quot;value&quot;: &quot;0.0&quot;,
                        &quot;prompt&quot;: &quot;Start Point Latitude&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;startPointLongitude&quot;,
                        &quot;value&quot;: &quot;0.0&quot;,
                        &quot;prompt&quot;: &quot;Start Point Longitude&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;finishPointStationName&quot;,
                        &quot;value&quot;: &quot;test_station_name&quot;,
                        &quot;prompt&quot;: &quot;Finish Point StationName&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;finishPointLatitude&quot;,
                        &quot;value&quot;: &quot;0.0&quot;,
                        &quot;prompt&quot;: &quot;Finish Point Latitude&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;finishPointLongitude&quot;,
                        &quot;value&quot;: &quot;0.0&quot;,
                        &quot;prompt&quot;: &quot;Finish Point Longitude&quot;,
                        &quot;options&quot;: []
                    }
                ],
                &quot;links&quot;: []
            }
        ],
        &quot;queries&quot;: [
            {
                &quot;href&quot;: &quot;/routes?page=1&amp;rows=20&amp;showInactive=true&quot;,
                &quot;rel&quot;: &quot;filter&quot;,
                &quot;prompt&quot;: null,
                &quot;name&quot;: null,
                &quot;data&quot;: []
            }
        ],
        &quot;template&quot;: {
            &quot;data&quot;: [
                {
                    &quot;name&quot;: &quot;startPoint&quot;,
                    &quot;value&quot;: null,
                    &quot;prompt&quot;: &quot;Start Point&quot;,
                    &quot;options&quot;: []
                },
                {
                    &quot;name&quot;: &quot;finishPoint&quot;,
                    &quot;value&quot;: null,
                    &quot;prompt&quot;: &quot;Finish Point&quot;,
                    &quot;options&quot;: []
                }
            ]
        }
    }
}</code></pre></div>

<h4 id="toc_29">Relações</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>/rels/collectable-routes</td>
<td>Referência para a lista de rotas que reunem condições para serem coletas no instante temporal em que é feito o <em>check</em> no sistema</td>
</tr>
</tbody>
</table>

<h3 id="toc_30">Route especifica</h3>

<div><pre><code class="language-none">GET /routes/:routeId</code></pre></div>

<h4 id="toc_31">Variáveis</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>routeId</td>
<td>int</td>
<td>Identificador numérico da rota de que se pretende obter a representação</td>
</tr>
</tbody>
</table>

<h4 id="toc_32">Resposta</h4>

<div><pre><code class="language-none">Status: 200 OK
Content-Type: application/vnd.siren+json
{
    &quot;class&quot;: [
        &quot;route&quot;
    ],
    &quot;properties&quot;: {
        &quot;numContainers&quot;: 1,
        &quot;numCollectZones&quot;: 1,
        &quot;numCollects&quot;: 0,
        &quot;routeId&quot;: 2,
        &quot;startPointStationName&quot;: &quot;test_station_name&quot;,
        &quot;finishPointStationName&quot;: &quot;test_station_name&quot;,
        &quot;active&quot;: &quot;true&quot;,
        &quot;startPointLatitude&quot;: 0,
        &quot;startPointLongitude&quot;: 0,
        &quot;finishPointLatitude&quot;: 0,
        &quot;finishPointLongitude&quot;: 0
    },
    &quot;entities&quot;: [
        {
            &quot;class&quot;: [
                &quot;route-containers&quot;,
                &quot;collection&quot;
            ],
            &quot;rel&quot;: [
                &quot;/rels/route-containers&quot;
            ],
            &quot;href&quot;: &quot;/routes/2/containers&quot;,
            &quot;properties&quot;: null,
            &quot;links&quot;: [],
            &quot;type&quot;: null,
            &quot;title&quot;: null
        },
        {
            &quot;class&quot;: [
                &quot;route-collect-zones&quot;,
                &quot;collection&quot;
            ],
            &quot;rel&quot;: [
                &quot;/rels/route-collect-zones&quot;
            ],
            &quot;href&quot;: &quot;/routes/2/collect-zones&quot;,
            &quot;properties&quot;: null,
            &quot;links&quot;: [],
            &quot;type&quot;: null,
            &quot;title&quot;: null
        },
        {
            &quot;class&quot;: [
                &quot;route-collections&quot;,
                &quot;collection&quot;
            ],
            &quot;rel&quot;: [
                &quot;/rels/route-collections&quot;
            ],
            &quot;href&quot;: &quot;/routes/2/collects&quot;,
            &quot;properties&quot;: null,
            &quot;links&quot;: [],
            &quot;type&quot;: null,
            &quot;title&quot;: null
        },
        {
            &quot;class&quot;: [
                &quot;route-collection-plan&quot;,
                &quot;collection&quot;
            ],
            &quot;rel&quot;: [
                &quot;/rels/route-collection-plan&quot;
            ],
            &quot;href&quot;: &quot;/routes/2/plan&quot;,
            &quot;properties&quot;: null,
            &quot;links&quot;: [],
            &quot;type&quot;: null,
            &quot;title&quot;: null
        },
        {
            &quot;class&quot;: [
                &quot;route-drop-zone&quot;,
                &quot;collection&quot;
            ],
            &quot;rel&quot;: [
                &quot;/rels/route-drop-zone&quot;
            ],
            &quot;href&quot;: &quot;/routes/2/drop-zones&quot;,
            &quot;properties&quot;: null,
            &quot;links&quot;: [],
            &quot;type&quot;: null,
            &quot;title&quot;: null
        }
    ],
    &quot;actions&quot;: [
        {
            &quot;name&quot;: &quot;update-route&quot;,
            &quot;title&quot;: null,
            &quot;method&quot;: &quot;PUT&quot;,
            &quot;href&quot;: &quot;/routes/2&quot;,
            &quot;type&quot;: &quot;application/json&quot;,
            &quot;fields&quot;: [
                {
                    &quot;name&quot;: &quot;startPoint&quot;,
                    &quot;type&quot;: &quot;number&quot;,
                    &quot;value&quot;: null,
                    &quot;title&quot;: &quot;Start Point&quot;,
                    &quot;options&quot;: [],
                    &quot;field_class&quot;: null
                },
                {
                    &quot;name&quot;: &quot;finishPoint&quot;,
                    &quot;type&quot;: &quot;number&quot;,
                    &quot;value&quot;: null,
                    &quot;title&quot;: &quot;Finish Point&quot;,
                    &quot;options&quot;: [],
                    &quot;field_class&quot;: null
                }
            ]
        },
        {
            &quot;name&quot;: &quot;create-route-collect&quot;,
            &quot;title&quot;: null,
            &quot;method&quot;: &quot;POST&quot;,
            &quot;href&quot;: &quot;/routes/2/collects&quot;,
            &quot;type&quot;: &quot;application/json&quot;,
            &quot;fields&quot;: [
                {
                    &quot;name&quot;: &quot;startDate&quot;,
                    &quot;type&quot;: &quot;datetime-local&quot;,
                    &quot;value&quot;: null,
                    &quot;title&quot;: &quot;Start Date&quot;,
                    &quot;options&quot;: [],
                    &quot;field_class&quot;: null
                },
                {
                    &quot;name&quot;: &quot;truckPlate&quot;,
                    &quot;type&quot;: &quot;text&quot;,
                    &quot;value&quot;: null,
                    &quot;title&quot;: &quot;Truck Plate&quot;,
                    &quot;options&quot;: [],
                    &quot;field_class&quot;: null
                }
            ]
        },
        {
            &quot;name&quot;: &quot;deactivate-route&quot;,
            &quot;title&quot;: null,
            &quot;method&quot;: &quot;PUT&quot;,
            &quot;href&quot;: &quot;/routes/2/deactivate&quot;,
            &quot;type&quot;: &quot;*/*&quot;,
            &quot;fields&quot;: []
        },
        {
            &quot;name&quot;: &quot;activate-route&quot;,
            &quot;title&quot;: null,
            &quot;method&quot;: &quot;PUT&quot;,
            &quot;href&quot;: &quot;/routes/2/activate&quot;,
            &quot;type&quot;: &quot;*/*&quot;,
            &quot;fields&quot;: []
        }
    ],
    &quot;links&quot;: [
        {
            &quot;rel&quot;: [
                &quot;self&quot;
            ],
            &quot;href&quot;: &quot;/routes/2&quot;
        },
        {
            &quot;rel&quot;: [
                &quot;up&quot;
            ],
            &quot;href&quot;: &quot;/routes&quot;
        },
        {
            &quot;rel&quot;: [
                &quot;/rels/station&quot;
            ],
            &quot;href&quot;: &quot;/stations&quot;
        }
    ]
}   </code></pre></div>

<h4 id="toc_33">Classes</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>route</td>
<td>Identifica uma rota</td>
</tr>
<tr>
<td>route-containers</td>
<td>Identifica os contentores de uma rota</td>
</tr>
<tr>
<td>route-collect-zones</td>
<td>Identifica as zonas de coleta de uma rota</td>
</tr>
<tr>
<td>route-collections</td>
<td>Identifica as recolhas efetuadas sobre a rota</td>
</tr>
<tr>
<td>route-drop-zone</td>
<td>Identifica os aterros associados à rota</td>
</tr>
</tbody>
</table>

<h4 id="toc_34">Relações</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>/rels/route-containers</td>
<td>Lista de contentores pertencentes à rota</td>
</tr>
<tr>
<td>/rels/route-collect-zones</td>
<td>Lista de zonas de coleta associadas à rota</td>
</tr>
<tr>
<td>/rels/route-collections</td>
<td>Lista de recolhas efetuadas sobre a rota</td>
</tr>
<tr>
<td>/rels/route-collection-plan</td>
<td>Lista de zonas de coleta que cumprem os requisitos para serem recolham e compõem a rota</td>
</tr>
<tr>
<td>/rels/route-drop-zones</td>
<td>Lista de aterros associados à rota</td>
</tr>
<tr>
<td>/rels/stations</td>
<td>Lista de estações existentes</td>
</tr>
</tbody>
</table>

<h4 id="toc_35">Ações</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>update-route</td>
<td>Atualiza os pontos de partida e chegada da rota</td>
</tr>
<tr>
<td>create-route-collect</td>
<td>Cria uma recolha para a rota</td>
</tr>
<tr>
<td>deactivate-route</td>
<td>Desativa a rota</td>
</tr>
<tr>
<td>activate-route</td>
<td>Ativa a rota</td>
</tr>
</tbody>
</table>

<h3 id="toc_36">Vocabulário</h3>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
<th>Restrições</th>
</tr>
</thead>

<tbody>
<tr>
<td>numContainers</td>
<td>int</td>
<td>Número de contentores associados à rota</td>
<td>-</td>
</tr>
<tr>
<td>numCollectZones</td>
<td>int</td>
<td>Número de zonas de coleta associados à rota</td>
<td>-</td>
</tr>
<tr>
<td>numCollects</td>
<td>int</td>
<td>Número de recolhas efetuadas sobre a rota</td>
<td>-</td>
</tr>
<tr>
<td>routeId</td>
<td>int</td>
<td>Identificador numérico da rota</td>
<td>-</td>
</tr>
<tr>
<td>startPointStationName</td>
<td>string</td>
<td>Identificador alfanumérico da estação de partida da rota</td>
<td>-</td>
</tr>
<tr>
<td>finishPointStationName</td>
<td>string</td>
<td>Identificador alfanumérico da estação de chegada da rota</td>
<td>-</td>
</tr>
<tr>
<td>active</td>
<td>boolean</td>
<td>Indicativo do estado atual da rota, se ativa ou inativa</td>
<td>-</td>
</tr>
<tr>
<td>startPointLatitude</td>
<td>float</td>
<td>Latitude da estação de partida</td>
<td>-</td>
</tr>
<tr>
<td>startPointLongitude</td>
<td>float</td>
<td>Longitude da estação de partida</td>
<td>-</td>
</tr>
<tr>
<td>finishPointLatitude</td>
<td>float</td>
<td>Latitude da estação de chegada</td>
<td>-</td>
</tr>
<tr>
<td>finishPointLongitude</td>
<td>float</td>
<td>Longitude da estação de chegada</td>
<td>-</td>
</tr>
<tr>
<td>startPoint</td>
<td>int</td>
<td>Identificador numérico da estação de partida</td>
<td><em>startPoint</em> &gt;= 0</td>
</tr>
<tr>
<td>finishPoint</td>
<td>int</td>
<td>Identificador numérico da estação de chegada</td>
<td><em>finishPoint</em> &gt;= 0</td>
</tr>
<tr>
<td>startDate</td>
<td>datetime</td>
<td>Data indicativa da hora de começo da atividade de recolha da rota</td>
<td>Deve cumprir o formato <code>YYYY-MM-DDTHH:MM:SS</code></td>
</tr>
<tr>
<td>truckPlate</td>
<td>string</td>
<td>Matricula do camião responsável pela recolha</td>
<td>Deve cumprir o formato <code>AA-BB-CC</code></td>
</tr>
</tbody>
</table>

<h2 id="toc_37">Route Drop Zone</h2>

<p>O recurso <strong>Route Drop Zone</strong> pode ser criado/alterado pela categoria <em>administrator</em> e pode ser visualizado pelas categorias <em>administrator</em> e <em>management</em>.</p>

<h3 id="toc_38">Lista de Route Drop Zones</h3>

<div><pre><code class="language-none">GET /routes/:routeId/drop-zones</code></pre></div>

<h4 id="toc_39">Parâmetros</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
<th>Valor por omissão</th>
</tr>
</thead>

<tbody>
<tr>
<td>page</td>
<td>int</td>
<td>Um inteiro indicativo da página a mostrar</td>
<td>1</td>
</tr>
<tr>
<td>rows</td>
<td>int</td>
<td>Um inteiro indicativo do número de elementos a mostrar na página atual</td>
<td>20</td>
</tr>
</tbody>
</table>

<h4 id="toc_40">Resposta</h4>

<div><pre><code class="language-none">Status: 200 OK
Content-Type: application/vnd.collection+json
{
    &quot;collection&quot;: {
        &quot;version&quot;: &quot;1.0&quot;,
        &quot;href&quot;: &quot;/routes/1/drop-zones?page=1&amp;rows=20&quot;,
        &quot;links&quot;: [],
        &quot;items&quot;: [
            {
                &quot;href&quot;: &quot;/routes/1/drop-zones&quot;,
                &quot;data&quot;: [
                    {
                        &quot;name&quot;: &quot;routeId&quot;,
                        &quot;value&quot;: &quot;1&quot;,
                        &quot;prompt&quot;: &quot;Route Id&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;dropZoneId&quot;,
                        &quot;value&quot;: &quot;3&quot;,
                        &quot;prompt&quot;: &quot;Drop Zone Id&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;latitude&quot;,
                        &quot;value&quot;: &quot;2.0&quot;,
                        &quot;prompt&quot;: &quot;Latitude&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;longitude&quot;,
                        &quot;value&quot;: &quot;2.0&quot;,
                        &quot;prompt&quot;: &quot;Longitude&quot;,
                        &quot;options&quot;: []
                    }
                ],
                &quot;links&quot;: []
            }
        ],
        &quot;queries&quot;: [],
        &quot;template&quot;: {
            &quot;data&quot;: [
                {
                    &quot;name&quot;: &quot;dropZoneId&quot;,
                    &quot;value&quot;: null,
                    &quot;prompt&quot;: &quot;Drop Zone Id&quot;,
                    &quot;options&quot;: []
                }
            ]
        }
    }
}</code></pre></div>

<h3 id="toc_41">Route Drop Zone</h3>

<div><pre><code class="language-none">GET /routes/:routeId/drop-zones/:dropZoneId</code></pre></div>

<h4 id="toc_42">Variáveis</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>routeId</td>
<td>int</td>
<td>Identificador numérico da rota</td>
</tr>
<tr>
<td>dropZoneId</td>
<td>int</td>
<td>Identificador numérico da estação/aterro</td>
</tr>
</tbody>
</table>

<h4 id="toc_43">Resposta</h4>

<div><pre><code class="language-none">Status: 200 OK
Content-Type: application/vnd.siren+json
{
    &quot;class&quot;: [
        &quot;route-drop-zone&quot;
    ],
    &quot;properties&quot;: {
        &quot;routeId&quot;: 1,
        &quot;dropZoneId&quot;: 3,
        &quot;latitude&quot;: 2,
        &quot;longitude&quot;: 2
    },
    &quot;entities&quot;: [
        {
            &quot;class&quot;: [
                &quot;route&quot;
            ],
            &quot;rel&quot;: [
                &quot;/rels/route&quot;
            ],
            &quot;href&quot;: &quot;/routes/1&quot;,
            &quot;properties&quot;: null,
            &quot;links&quot;: [],
            &quot;type&quot;: null,
            &quot;title&quot;: null
        }
    ],
    &quot;actions&quot;: [
        {
            &quot;name&quot;: &quot;delete-route-drop-zone&quot;,
            &quot;title&quot;: null,
            &quot;method&quot;: &quot;DELETE&quot;,
            &quot;href&quot;: &quot;/routes/1/drop-zones&quot;,
            &quot;type&quot;: &quot;*/*&quot;,
            &quot;fields&quot;: []
        }
    ],
    &quot;links&quot;: [
        {
            &quot;rel&quot;: [
                &quot;self&quot;
            ],
            &quot;href&quot;: &quot;/routes/1/drop-zones/3&quot;
        },
        {
            &quot;rel&quot;: [
                &quot;up&quot;
            ],
            &quot;href&quot;: &quot;/routes/1/drop-zones&quot;
        }
    ]
}</code></pre></div>

<h4 id="toc_44">Classes</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>route-drop-zone</td>
<td>Identifica um aterro associado a uma rota</td>
</tr>
<tr>
<td>route</td>
<td>Identifica uma rota</td>
</tr>
</tbody>
</table>

<h4 id="toc_45">Relações</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>/rels/route</td>
<td>Rota a que o aterro está associado</td>
</tr>
</tbody>
</table>

<h4 id="toc_46">Ações</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>delete-route-drop-zone</td>
<td>Retira a associação do aterro à rota</td>
</tr>
</tbody>
</table>

<h3 id="toc_47">Vocabulário</h3>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
<th>Restrições</th>
</tr>
</thead>

<tbody>
<tr>
<td>routeId</td>
<td>int</td>
<td>Identificador numérico da rota</td>
<td>-</td>
</tr>
<tr>
<td>dropZoneId</td>
<td>int</td>
<td>Identificador numérico da estação/aterro</td>
<td><em>dropZoneId</em> &gt;= 0</td>
</tr>
<tr>
<td>latitude</td>
<td>float</td>
<td>Latitude referente às coordenadas da estação</td>
<td>-</td>
</tr>
<tr>
<td>longitude</td>
<td>float</td>
<td>Longitude referente às coordenadas da estação</td>
<td>-</td>
</tr>
</tbody>
</table>

<h2 id="toc_48">Trucks</h2>

<p>O recurso <strong>Trucks</strong> só pode ser criado/alterado pela categoria <em>administrator</em> e pode ser visualizado pelas categorias <em>administrator</em> e <em>management</em>.</p>

<h3 id="toc_49">Lista de Trucks</h3>

<div><pre><code class="language-none">GET /trucks</code></pre></div>

<h4 id="toc_50">Parâmetros</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
<th>Valor por omissão</th>
</tr>
</thead>

<tbody>
<tr>
<td>page</td>
<td>int</td>
<td>Um inteiro indicativo da página a mostrar</td>
<td>1</td>
</tr>
<tr>
<td>rows</td>
<td>int</td>
<td>Um inteiro indicativo do número de elementos a mostrar na página atual</td>
<td>20</td>
</tr>
<tr>
<td>showInactive</td>
<td>boolean</td>
<td>Um booleano que filtra os resultados. Se tiver valor <em>true</em>, todos os camiões serão mostrados, se tiver valor <em>false</em>, só os ativos serão mostrados</td>
<td>false</td>
</tr>
</tbody>
</table>

<h4 id="toc_51">Resposta</h4>

<div><pre><code class="language-none">Status: 200 OK
Content-Type: application/vnd.collection+json
{
    &quot;collection&quot;: {
        &quot;version&quot;: &quot;1.0&quot;,
        &quot;href&quot;: &quot;/trucks?page=1&amp;rows=20&amp;showInactive=false&quot;,
        &quot;links&quot;: [],
        &quot;items&quot;: [
            {
                &quot;href&quot;: &quot;/trucks&quot;,
                &quot;data&quot;: [
                    {
                        &quot;name&quot;: &quot;truckPlate&quot;,
                        &quot;value&quot;: &quot;06-BG-33&quot;,
                        &quot;prompt&quot;: &quot;Truck Plate&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;active&quot;,
                        &quot;value&quot;: &quot;false&quot;,
                        &quot;prompt&quot;: &quot;Active&quot;,
                        &quot;options&quot;: []
                    }
                ],
                &quot;links&quot;: []
            }
        ],
        &quot;queries&quot;: [
            {
                &quot;href&quot;: &quot;/trucks?page=1&amp;rows=20&amp;showInactive=true&quot;,
                &quot;rel&quot;: &quot;filter&quot;,
                &quot;prompt&quot;: null,
                &quot;name&quot;: null,
                &quot;data&quot;: []
            }
        ],
        &quot;template&quot;: {
            &quot;data&quot;: [
                {
                    &quot;name&quot;: &quot;truckPlate&quot;,
                    &quot;value&quot;: null,
                    &quot;prompt&quot;: &quot;Truck Plate&quot;,
                    &quot;options&quot;: []
                }
            ]
        }
    }
}   </code></pre></div>

<h3 id="toc_52">Truck especifico</h3>

<div><pre><code class="language-none">GET /trucks/:truckPlate</code></pre></div>

<h4 id="toc_53">Variáveis</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>truckPlate</td>
<td>string</td>
<td>Matrícula do camião de que se pretende obter a representação</td>
</tr>
</tbody>
</table>

<h4 id="toc_54">Resposta</h4>

<div><pre><code class="language-none">Status: 200 OK
Content-Type: application/vnd.siren+json
{
    &quot;class&quot;: [
        &quot;truck&quot;
    ],
    &quot;properties&quot;: {
        &quot;registrationPlate&quot;: &quot;06-BG-33&quot;,
        &quot;active&quot;: &quot;false&quot;
    },
    &quot;entities&quot;: [
        {
            &quot;class&quot;: [
                &quot;truck-collects&quot;,
                &quot;collection&quot;
            ],
            &quot;rel&quot;: [
                &quot;/rels/truck-collects&quot;
            ],
            &quot;href&quot;: &quot;/trucks/06-BG-33/collects&quot;,
            &quot;properties&quot;: null,
            &quot;links&quot;: [],
            &quot;type&quot;: null,
            &quot;title&quot;: null
        }
    ],
    &quot;actions&quot;: [
        {
            &quot;name&quot;: &quot;deactivate-truck&quot;,
            &quot;title&quot;: null,
            &quot;method&quot;: &quot;PUT&quot;,
            &quot;href&quot;: &quot;/trucks/deactivate&quot;,
            &quot;type&quot;: &quot;*/*&quot;,
            &quot;fields&quot;: []
        },
        {
            &quot;name&quot;: &quot;activate-truck&quot;,
            &quot;title&quot;: null,
            &quot;method&quot;: &quot;PUT&quot;,
            &quot;href&quot;: &quot;/trucks/activate&quot;,
            &quot;type&quot;: &quot;*/*&quot;,
            &quot;fields&quot;: []
        }
    ],
    &quot;links&quot;: [
        {
            &quot;rel&quot;: [
                &quot;self&quot;
            ],
            &quot;href&quot;: &quot;/trucks/06-BG-33&quot;
        },
        {
            &quot;rel&quot;: [
                &quot;up&quot;
            ],
            &quot;href&quot;: &quot;/trucks&quot;
        }
    ]
}</code></pre></div>

<h4 id="toc_55">Classes</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>truck</td>
<td>Identifica um camião</td>
</tr>
<tr>
<td>truck-collects</td>
<td>Identifica as recolhas efetuadas pelo camião</td>
</tr>
</tbody>
</table>

<h4 id="toc_56">Relações</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>/rels/truck-collects</td>
<td>Lista com as recolhas efetuadas pelo camião</td>
</tr>
</tbody>
</table>

<h4 id="toc_57">Ações</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>deactivate-truck</td>
<td>Desativa um camião</td>
</tr>
<tr>
<td>activate-truck</td>
<td>Ativa um camião</td>
</tr>
</tbody>
</table>

<h3 id="toc_58">Vocabulário</h3>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
<th>Restrições</th>
</tr>
</thead>

<tbody>
<tr>
<td>registrationPlate</td>
<td>string</td>
<td>Matrícula do camião</td>
<td>Deve cumprir o formato <code>AA-BB-CC</code></td>
</tr>
<tr>
<td>active</td>
<td>boolean</td>
<td>Indicativo do estado atual do camião, se ativo ou inativo</td>
<td>-</td>
</tr>
</tbody>
</table>

<h2 id="toc_59">Route Collection</h2>

<h3 id="toc_60">Tabela de recursos</h3>

<table>
<thead>
<tr>
<th>Nome do recurso</th>
<th>URI</th>
<th>Descrição</th>
<th>Autorizações</th>
</tr>
</thead>

<tbody>
<tr>
<td>Route Collections</td>
<td>/routes/collects</td>
<td>Lista de rotas que podem ser recolhidas</td>
<td>Criar: <em>administrator</em>, <em>management</em>,<em>collector</em></td>
</tr>
<tr>
<td>Lista de Route Collections</td>
<td>/routes/:routeId/collects</td>
<td>Lista de recolhas efetuadas sobre uma rota</td>
<td>Criar/atualizar/visualizar: <em>administrator</em>, <em>managament</em></td>
</tr>
<tr>
<td>Route Collections especifico</td>
<td>/routes/:routeId/collects/:startDate</td>
<td>Recurso representativo de uma recolha efetuada sobre uma rota</td>
<td>Criar/atualizar/visualizar: <em>administrator</em>, <em>management</em></td>
</tr>
<tr>
<td>Lista de Truck Collections</td>
<td>/trucks/:truckPlate/collects</td>
<td>Coletas efetuadas por um dado camião</td>
<td>Visualizar: <em>administrator</em>, <em>management</em></td>
</tr>
<tr>
<td>Route Collection Plan</td>
<td>/routes/:routeId/plan</td>
<td>Lista de zonas de coleta que cumprem os requisitos para serem recolham e compõem a rota</td>
<td>Visualizar: <em>administrator</em>, <em>management</em>, <em>collector</em></td>
</tr>
</tbody>
</table>

<h3 id="toc_61">Route Collections</h3>

<div><pre><code class="language-none">GET /route/collects</code></pre></div>

<h4 id="toc_62">Parâmetros</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
<th>Valor por omissão</th>
</tr>
</thead>

<tbody>
<tr>
<td>page</td>
<td>int</td>
<td>Um inteiro indicativo da página a mostrar</td>
<td>1</td>
</tr>
<tr>
<td>rows</td>
<td>int</td>
<td>Um inteiro indicativo do número de elementos a mostrar na página atual</td>
<td>20</td>
</tr>
</tbody>
</table>

<h4 id="toc_63">Resposta</h4>

<div><pre><code class="language-none">Status: 200 OK
Content-Type: application/vnd.collection+json
{
    &quot;collection&quot;: {
        &quot;version&quot;: &quot;1.0&quot;,
        &quot;href&quot;: &quot;/routes/collects?page=1&amp;rows=20&quot;,
        &quot;links&quot;: [],
        &quot;items&quot;: [
            {
                &quot;href&quot;: &quot;/routes/2&quot;,
                &quot;data&quot;: [
                    {
                        &quot;name&quot;: &quot;routeId&quot;,
                        &quot;value&quot;: &quot;2&quot;,
                        &quot;prompt&quot;: &quot;Route Id&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;active&quot;,
                        &quot;value&quot;: &quot;true&quot;,
                        &quot;prompt&quot;: &quot;Active&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;startPoint&quot;,
                        &quot;value&quot;: &quot;1&quot;,
                        &quot;prompt&quot;: &quot;Start Point&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;finishPoint&quot;,
                        &quot;value&quot;: &quot;1&quot;,
                        &quot;prompt&quot;: &quot;Finish Point&quot;,
                        &quot;options&quot;: []
                    }
                ],
                &quot;links&quot;: [
                    {
                        &quot;rel&quot;: &quot;/rels/route-collections&quot;,
                        &quot;href&quot;: &quot;/routes/2/collects&quot;,
                        &quot;prompt&quot;: &quot;Get route collections&quot;,
                        &quot;render&quot;: null,
                        &quot;name&quot;: null
                    }
                ]
            }
        ],
        &quot;queries&quot;: [],
        &quot;template&quot;: {
            &quot;data&quot;: [
                {
                    &quot;name&quot;: &quot;latitude&quot;,
                    &quot;value&quot;: null,
                    &quot;prompt&quot;: &quot;Latitude&quot;,
                    &quot;options&quot;: []
                },
                {
                    &quot;name&quot;: &quot;longitude&quot;,
                    &quot;value&quot;: null,
                    &quot;prompt&quot;: &quot;Longitude&quot;,
                    &quot;options&quot;: []
                },
                {
                    &quot;name&quot;: &quot;startDate&quot;,
                    &quot;value&quot;: null,
                    &quot;prompt&quot;: &quot;Start Date&quot;,
                    &quot;options&quot;: []
                },
                {
                    &quot;name&quot;: &quot;truckPlate&quot;,
                    &quot;value&quot;: null,
                    &quot;prompt&quot;: &quot;Truck Plate&quot;,
                    &quot;options&quot;: []
                }
            ]
        }
    }
}</code></pre></div>

<h4 id="toc_64">Relações</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>/rels/route-collections</td>
<td>Lista de recolhas efetuadas sobre uma rota</td>
</tr>
</tbody>
</table>

<h3 id="toc_65">Lista de Route Collections</h3>

<div><pre><code class="language-none">GET /route/:routeId/collects</code></pre></div>

<h4 id="toc_66">Variáveis</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>routeId</td>
<td>int</td>
<td>Identificador numérico da rota</td>
</tr>
</tbody>
</table>

<h4 id="toc_67">Parâmetros</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
<th>Valor por omissão</th>
</tr>
</thead>

<tbody>
<tr>
<td>page</td>
<td>int</td>
<td>Um inteiro indicativo da página a mostrar</td>
<td>1</td>
</tr>
<tr>
<td>rows</td>
<td>int</td>
<td>Um inteiro indicativo do número de elementos a mostrar na página atual</td>
<td>20</td>
</tr>
</tbody>
</table>

<h4 id="toc_68">Resposta</h4>

<div><pre><code class="language-none">Status: 200 OK
Content-Type: application/vnd.collection+json
{
    &quot;collection&quot;: {
        &quot;version&quot;: &quot;1.0&quot;,
        &quot;href&quot;: &quot;/routes/1/collects?page=1&amp;rows=20&quot;,
        &quot;links&quot;: [],
        &quot;items&quot;: [
            {
                &quot;href&quot;: &quot;/routes/1/collects/2018-05-05T20:56:32&quot;,
                &quot;data&quot;: [
                    {
                        &quot;name&quot;: &quot;routeId&quot;,
                        &quot;value&quot;: &quot;1&quot;,
                        &quot;prompt&quot;: &quot;Route Id&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;startDate&quot;,
                        &quot;value&quot;: &quot;2018-05-05T20:56:32&quot;,
                        &quot;prompt&quot;: &quot;Start Date&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;finishDate&quot;,
                        &quot;value&quot;: null,
                        &quot;prompt&quot;: &quot;Finish Date&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;truckPlate&quot;,
                        &quot;value&quot;: &quot;06-BG-33&quot;,
                        &quot;prompt&quot;: &quot;Truck Plate&quot;,
                        &quot;options&quot;: []
                    }
                ],
                &quot;links&quot;: []
            }
        ],
        &quot;queries&quot;: [],
        &quot;template&quot;: {
            &quot;data&quot;: [
                {
                    &quot;name&quot;: &quot;startDate&quot;,
                    &quot;value&quot;: null,
                    &quot;prompt&quot;: &quot;Start Date&quot;,
                    &quot;options&quot;: []
                },
                {
                    &quot;name&quot;: &quot;truckPlate&quot;,
                    &quot;value&quot;: null,
                    &quot;prompt&quot;: &quot;Truck Plate&quot;,
                    &quot;options&quot;: []
                }
            ]
        }
    }
}</code></pre></div>

<h3 id="toc_69">Route Collections especifica</h3>

<div><pre><code class="language-none">GET /routes/:routeId/collects/:startDate</code></pre></div>

<h4 id="toc_70">Variáveis</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>routeId</td>
<td>int</td>
<td>Identificador numérico da rota</td>
</tr>
<tr>
<td>startDate</td>
<td>string</td>
<td>Data referente ao inicio do ato de recolha da rota</td>
</tr>
</tbody>
</table>

<h4 id="toc_71">Resposta</h4>

<div><pre><code class="language-none">Status: 200 OK
Content-Type: application/vnd.siren+json
{
    &quot;class&quot;: [
        &quot;route-collections&quot;
    ],
    &quot;properties&quot;: {
        &quot;routeId&quot;: 1,
        &quot;truckPlate&quot;: &quot;06-BG-33&quot;,
        &quot;startDate&quot;: [
            2018,
            5,
            5,
            20,
            56,
            32
        ],
        &quot;finishDate&quot;: null
    },
    &quot;entities&quot;: [
        {
            &quot;class&quot;: [
                &quot;route-collection-plan&quot;,
                &quot;collection&quot;
            ],
            &quot;rel&quot;: [
                &quot;/rels/route-collection-plan&quot;
            ],
            &quot;href&quot;: &quot;/routes/1/plan&quot;,
            &quot;properties&quot;: null,
            &quot;links&quot;: [],
            &quot;type&quot;: null,
            &quot;title&quot;: null
        }
    ],
    &quot;actions&quot;: [
        {
            &quot;name&quot;: &quot;update-route-collection&quot;,
            &quot;title&quot;: null,
            &quot;method&quot;: &quot;PUT&quot;,
            &quot;href&quot;: &quot;/routes/1/collects/2018-05-05T20:56:32&quot;,
            &quot;type&quot;: &quot;application/json&quot;,
            &quot;fields&quot;: [
                {
                    &quot;name&quot;: &quot;finishDate&quot;,
                    &quot;type&quot;: &quot;datetime-local&quot;,
                    &quot;value&quot;: null,
                    &quot;title&quot;: &quot;Finish Date&quot;,
                    &quot;options&quot;: [],
                    &quot;field_class&quot;: null
                },
                {
                    &quot;name&quot;: &quot;truckPlate&quot;,
                    &quot;type&quot;: &quot;text&quot;,
                    &quot;value&quot;: null,
                    &quot;title&quot;: &quot;Truck Plate&quot;,
                    &quot;options&quot;: [],
                    &quot;field_class&quot;: null
                }
            ]
        }
    ],
    &quot;links&quot;: [
        {
            &quot;rel&quot;: [
                &quot;up&quot;
            ],
            &quot;href&quot;: &quot;/routes/1&quot;
        },
        {
            &quot;rel&quot;: [
                &quot;self&quot;
            ],
            &quot;href&quot;: &quot;/routes/1/collects/2018-05-05T20:56:32&quot;
        }
    ]
}</code></pre></div>

<h4 id="toc_72">Classes</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>route-collections</td>
<td>Coleta efetuada sobre uma rota</td>
</tr>
<tr>
<td>route-collection-plan</td>
<td>Identifica o plano de recolha da rota</td>
</tr>
</tbody>
</table>

<h4 id="toc_73">Relações</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>/rels/route-collection-plan</td>
<td>Lista de zonas de coleta que cumprem os requisitos para serem recolham e compõem a rota</td>
</tr>
</tbody>
</table>

<h4 id="toc_74">Ações</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>update-route-collection</td>
<td>Atualiza o recurso, mais concretamente, a data de finalização da recolha e o camião que realizou a recolha</td>
</tr>
</tbody>
</table>

<h3 id="toc_75">Lista de Truck Collections</h3>

<div><pre><code class="language-none">GET /trucks/:truckPlate/collects</code></pre></div>

<h4 id="toc_76">Variáveis</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>truckPlate</td>
<td>Matrícula do camião</td>
<td></td>
</tr>
</tbody>
</table>

<h4 id="toc_77">Parâmetros</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
<th>Valor por omissão</th>
</tr>
</thead>

<tbody>
<tr>
<td>page</td>
<td>int</td>
<td>Um inteiro indicativo da página a mostrar</td>
<td>1</td>
</tr>
<tr>
<td>rows</td>
<td>int</td>
<td>Um inteiro indicativo do número de elementos a mostrar na página atual</td>
<td>20</td>
</tr>
</tbody>
</table>

<h4 id="toc_78">Resposta</h4>

<div><pre><code class="language-none">Status: 200 OK
Content-Type: application/vnd.collection+json
{
    &quot;collection&quot;: {
        &quot;version&quot;: &quot;1.0&quot;,
        &quot;href&quot;: &quot;/trucks/06-BG-33/collects?page=1&amp;rows=20&quot;,
        &quot;links&quot;: [],
        &quot;items&quot;: [
            {
                &quot;href&quot;: &quot;/routes/1/collects/2018-05-05T20:56:32&quot;,
                &quot;data&quot;: [
                    {
                        &quot;name&quot;: &quot;routeId&quot;,
                        &quot;value&quot;: &quot;1&quot;,
                        &quot;prompt&quot;: &quot;Route Id&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;startDate&quot;,
                        &quot;value&quot;: &quot;2018-05-05T20:56:32&quot;,
                        &quot;prompt&quot;: &quot;Start Date&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;finishDate&quot;,
                        &quot;value&quot;: null,
                        &quot;prompt&quot;: &quot;Finish Date&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;truckPlate&quot;,
                        &quot;value&quot;: &quot;06-BG-33&quot;,
                        &quot;prompt&quot;: &quot;Truck Plate&quot;,
                        &quot;options&quot;: []
                    }
                ],
                &quot;links&quot;: []
            }
        ],
        &quot;queries&quot;: [],
        &quot;template&quot;: {
            &quot;data&quot;: [
                {
                    &quot;name&quot;: &quot;startDate&quot;,
                    &quot;value&quot;: null,
                    &quot;prompt&quot;: &quot;Start Date&quot;,
                    &quot;options&quot;: []
                },
                {
                    &quot;name&quot;: &quot;truckPlate&quot;,
                    &quot;value&quot;: &quot;06-BG-33&quot;,
                    &quot;prompt&quot;: &quot;Truck Plate&quot;,
                    &quot;options&quot;: []
                }
            ]
        }
    }
}</code></pre></div>

<h3 id="toc_79">Vocabulário</h3>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
<th>Restrições</th>
</tr>
</thead>

<tbody>
<tr>
<td>routeId</td>
<td>int</td>
<td>Identificador numérico da rota</td>
<td>-</td>
</tr>
<tr>
<td>truckPlate</td>
<td>string</td>
<td>Matrícula do camião que efetuou a recolha</td>
<td>Deve cumprir o formato <code>AA-BB-CC</code></td>
</tr>
<tr>
<td>startDate</td>
<td>datetime</td>
<td>Data referente ao inicio do ato de recolha da rota</td>
<td>Deve cumprir o formato <code>YYYY-MM-DD-THH:MM:SS</code></td>
</tr>
<tr>
<td>finishDate</td>
<td>datetime</td>
<td>Data referente ao término do ato de recolha da rota</td>
<td>Deve cumprir o formato <code>YYYY-MM-DD-THH:MM:SS</code></td>
</tr>
</tbody>
</table>

<h3 id="toc_80">Route Collection Plan</h3>

<div><pre><code class="language-none">GET /routes/:routeId/plan</code></pre></div>

<h4 id="toc_81">Variáveis</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>routeId</td>
<td>string</td>
<td>Identificador numérico da rota</td>
</tr>
</tbody>
</table>

<h4 id="toc_82">Parâmetros</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
<th>Valor por omissão</th>
</tr>
</thead>

<tbody>
<tr>
<td>page</td>
<td>int</td>
<td>Um inteiro indicativo da página a mostrar</td>
<td>1</td>
</tr>
<tr>
<td>rows</td>
<td>int</td>
<td>Um inteiro indicativo do número de elementos a mostrar na página atual</td>
<td>20</td>
</tr>
</tbody>
</table>

<h3 id="toc_83">Resposta</h3>

<div><pre><code class="language-none">Status: 200 OK
Content-Type: application/vnd.collection+json
{
    &quot;collection&quot;: {
        &quot;version&quot;: &quot;1.0&quot;,
        &quot;href&quot;: &quot;/routes/2/plan?page=1&amp;rows=20&quot;,
        &quot;links&quot;: [],
        &quot;items&quot;: [
            {
                &quot;href&quot;: &quot;/collect-zones/1&quot;,
                &quot;data&quot;: [
                    {
                        &quot;name&quot;: &quot;collectZoneId&quot;,
                        &quot;value&quot;: &quot;1&quot;,
                        &quot;prompt&quot;: &quot;Collect Zone Id&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;routeId&quot;,
                        &quot;value&quot;: &quot;2&quot;,
                        &quot;prompt&quot;: &quot;Route Id&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;pickOrder&quot;,
                        &quot;value&quot;: &quot;32767&quot;,
                        &quot;prompt&quot;: &quot;Pick Order&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;active&quot;,
                        &quot;value&quot;: &quot;true&quot;,
                        &quot;prompt&quot;: &quot;Active&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;latitude&quot;,
                        &quot;value&quot;: &quot;38.6318&quot;,
                        &quot;prompt&quot;: &quot;Latitude&quot;,
                        &quot;options&quot;: []
                    },
                    {
                        &quot;name&quot;: &quot;longitude&quot;,
                        &quot;value&quot;: &quot;-9.144287&quot;,
                        &quot;prompt&quot;: &quot;Longitude&quot;,
                        &quot;options&quot;: []
                    }
                ],
                &quot;links&quot;: [
                    {
                        &quot;rel&quot;: &quot;/rels/collect-collect-zone-containers&quot;,
                        &quot;href&quot;: &quot;/collect-zones/1/collects&quot;,
                        &quot;prompt&quot;: null,
                        &quot;render&quot;: null,
                        &quot;name&quot;: null
                    },
                    {
                        &quot;rel&quot;: &quot;/rels/wash-collect-zone-containers&quot;,
                        &quot;href&quot;: &quot;/collect-zones/1/washes&quot;,
                        &quot;prompt&quot;: null,
                        &quot;render&quot;: null,
                        &quot;name&quot;: null
                    }
                ]
            }
        ],
        &quot;queries&quot;: [],
        &quot;template&quot;: null
    }
}</code></pre></div>

<h4 id="toc_84">Relações</h4>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Descrição</th>
</tr>
</thead>

<tbody>
<tr>
<td>/rels/collect-collect-zone-containers</td>
<td>Recolhe todos os contentores de um dado tipo na zona de coleta</td>
</tr>
<tr>
<td>/rels/wash-collect-zone-containers</td>
<td>Lava todos os contentores de um dado tipo na zona de coleta</td>
</tr>
</tbody>
</table>

<h3 id="toc_85">Vocabulário</h3>

<table>
<thead>
<tr>
<th>Nome</th>
<th>Tipo</th>
<th>Descrição</th>
<th>Restrições</th>
</tr>
</thead>

<tbody>
<tr>
<td>collectZoneId</td>
<td>int</td>
<td>Identificador numérico da zona de coleta</td>
<td>-</td>
</tr>
<tr>
<td>routeId</td>
<td>int</td>
<td>Identificador numérico da rota</td>
<td>-</td>
</tr>
<tr>
<td>pickOrder</td>
<td>int</td>
<td>Identificador da ordem em que a zona de coleta deve ser recolhida</td>
<td>-</td>
</tr>
<tr>
<td>active</td>
<td>boolean</td>
<td>Indicativo do estado atual da rota, se ativa ou inativa</td>
<td>-</td>
</tr>
<tr>
<td>latitude</td>
<td>float</td>
<td>Latitude referente às coordenadas da estação</td>
<td>-</td>
</tr>
<tr>
<td>longitude</td>
<td>float</td>
<td>Longitude referente às coordenadas da estação</td>
<td>-</td>
</tr>
</tbody>
</table>

<h2 id="toc_86">Configurations</h2>

<p>O recurso <strong>Configurations</strong> só pode ser criado/alterado/visualizado pelas categorias <em>administrator</em> e <em>management</em>.</p>

<h2 id="toc_87"><a name="references"></a> Referências</h2>

<p><a name="json-home-specification"></a> [1] <a href="http://">Especificação do Json Home</a>, visitado a 20/06/2018</p>

<p><a name="collection-json-specification"></a> [2] <a href="http://">Especificação do Collection+Json</a>, visitado a 20/06/2018</p>

<p><a name="siren-json-specification"></a> [3] <a href="http://">Especificação do Siren+Json</a>, visitado a 20/06/2018</p>

<p><a name="problem-json-specification"></a> [3] <a href="http://">Especificação do Problem+Json</a>, visitado a 22/06/2018</p>




</body>

</html>
